(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{1742:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return s(6782)}])},6782:function(e,t,s){"use strict";s.r(t);var a=s(5893),r=s(7294),n=s(8575),l=s(1163),i=s(3692);t.default=()=>{let[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(!1),o=(0,l.useRouter)();(0,r.useEffect)(()=>{c(!0);let e=localStorage.getItem("eventCart");e&&t(JSON.parse(e))},[]),(0,r.useEffect)(()=>{s&&localStorage.setItem("eventCart",JSON.stringify(e))},[e,s]);let handleRemove=e=>{t(t=>t.filter(t=>t.cartKey!==e))},handleQuantityChange=(e,s)=>{let a=Math.max(1,Math.min(10,Number(s)))||1;t(t=>t.map(t=>t.cartKey===e?{...t,quantity:a}:t))},handleContinueShopping=()=>{o.push("/")},d=e.reduce((e,t)=>e+t.price*t.quantity,0),x=e.reduce((e,t)=>e+t.quantity,0);return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Z,{cart:e}),(0,a.jsxs)("main",{className:"pt-24 px-4 sm:px-6 max-w-4xl mx-auto pb-12",children:[(0,a.jsxs)("button",{onClick:handleContinueShopping,className:"flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[(0,a.jsx)(i.YFh,{className:"mr-1"}),"Continue Shopping"]}),(0,a.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center text-purple-700",children:"Your Cart"}),x>0&&(0,a.jsxs)("p",{className:"text-center text-gray-500 mb-10",children:[x," ",1===x?"item":"items"," in your cart"]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 text-lg mb-6",children:"Your cart is empty."}),(0,a.jsx)("button",{onClick:handleContinueShopping,className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md",children:"Browse Events"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between bg-white p-4 sm:p-6 rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex flex-1 items-start sm:items-center space-x-4",children:[(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg border border-gray-200"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-indigo-600 capitalize",children:"general"===e.type?"General Admission":"VIP"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-0 flex items-center justify-between sm:justify-end sm:space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>handleQuantityChange(e.cartKey,e.quantity-1),disabled:e.quantity<=1,className:"p-1 rounded-full hover:bg-gray-100 disabled:opacity-50",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",value:e.quantity,onChange:t=>handleQuantityChange(e.cartKey,t.target.value),className:"w-12 px-2 py-1 border border-gray-300 rounded-md shadow-sm text-center"}),(0,a.jsx)("button",{onClick:()=>handleQuantityChange(e.cartKey,e.quantity+1),disabled:e.quantity>=10,className:"p-1 rounded-full hover:bg-gray-100 disabled:opacity-50",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})]}),(0,a.jsxs)("div",{className:"text-right min-w-[80px]",children:[(0,a.jsxs)("p",{className:"font-medium",children:["$",(e.price*e.quantity).toFixed(2)]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["$",e.price," each"]})]}),(0,a.jsx)("button",{onClick:()=>handleRemove(e.cartKey),className:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"Remove item",children:(0,a.jsx)(i.Ybf,{className:"h-5 w-5"})})]})]},e.cartKey))}),(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Order Summary"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[x," ",1===x?"item":"items"]})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,a.jsxs)("span",{children:["$",d.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Service Fee"}),(0,a.jsx)("span",{children:"$0.00"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Tax"}),(0,a.jsx)("span",{children:"$0.00"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between border-t border-gray-200 pt-4",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:"Total"}),(0,a.jsxs)("span",{className:"text-lg font-bold",children:["$",d.toFixed(2)]})]}),(0,a.jsx)("button",{onClick:()=>{o.push("/checkout")},className:"mt-6 w-full bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-semibold py-3 px-8 rounded-xl shadow-lg transition-all transform hover:scale-[1.02]",children:"Proceed to Checkout"})]})]})]})]}):null}}},function(e){e.O(0,[197,575,774,888,179],function(){return e(e.s=1742)}),_N_E=e.O()}]);